<?xml version="1.0"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.2//EN" "http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd"><article xml:base="file:////Users/kinzo/Dev/engr-451/lab2_2024/html/"><!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
--><section><title/><programlisting><mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% lab2_2024.m</mwsh:comments>
<mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% Please place lab2.m in your working directory</mwsh:comments>
<mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% Provide the print-out from running this function</mwsh:comments>
<mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% using 'publish lab2'</mwsh:comments>
<mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">%</mwsh:comments>
<mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% T. Holton 7 Feb 2024</mwsh:comments>

clear
test_lab2_2024;
</programlisting></section><section><title>Real-time Convolution</title><para>Real-time convolution #1</para><programlisting>x = [1 4 2 6 5];
h = [4 -1 3 -5 2];
test_lab2_2024;
test_lab2_2024(x, h);

<mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% Real-time convolution convolution #2</mwsh:comments>
test_lab2_2024(h, x);

<mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% Real-time convolution #3</mwsh:comments>
x = cos(2 * pi * (1:50000) / 16); <mwsh:comments xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">% nice, big sequence</mwsh:comments>
h = ones(1, 10);
tic;
test_lab2_2024(x, h);
t = toc;
disp([<mwsh:strings xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">'The long convolution took '</mwsh:strings> num2str(t) <mwsh:strings xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">' secs'</mwsh:strings>])
disp(<mwsh:strings xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">' '</mwsh:strings>)
</programlisting><screen><computeroutput><emphasis>Real-time convolution #1
   Your data are correct

Real-time convolution #2
   Your data are correct

Real-time convolution #3
   Your data are correct

The long convolution took 0.042554 secs
 
</emphasis></computeroutput></screen></section><section><title>Code</title><programlisting>disp(<mwsh:strings xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">'---------------------------------------------------'</mwsh:strings>)
disp(<mwsh:strings xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">'                     Code'</mwsh:strings>)
disp(<mwsh:strings xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">'---------------------------------------------------'</mwsh:strings>)
type <mwsh:strings xmlns:mwsh="http://www.mathworks.com/namespace/mcode/v1/syntaxhighlight.dtd">convolv_rt</mwsh:strings>
</programlisting><screen><computeroutput><emphasis>---------------------------------------------------
                     Code
---------------------------------------------------

function y = convolv_rt(x, h)
    lh = length(h);
    hbuf = h(:)'; % make h a row vector
    x = [x(:); zeros(lh-1, 1)]; % pad x with zeros
    y = zeros(1, length(x)); % preallocate output array
    xbuf = zeros(lh, 1); % initialize input array as column vector
    for i = 1:length(x) % for each new value of x[n]
        % put x(i) into the buffer in reverse order
        xbuf(end - mod(i, lh))  = x(i);
        % set up the indexing into the hbuf and/or xbuf arrays here
        y(i) = hbuf * [xbuf(end - mod(i, lh):end); xbuf(1:end - mod(i, lh) -1)]; % store output value
    end
end
</emphasis></computeroutput></screen></section><literallayout><emphasis>
Published with MATLABÂ® R2023b</emphasis></literallayout></article>